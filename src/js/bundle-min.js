function initializeAdjustPixelSize(){$(document).ready(function(){setMinimumFromAdjustPixelSize(),setMaximumFromAdjustPixelSize(),setDefaultValueFromAdjustPixelSize()})}function adaptPixelSizeFromGrid(){let e=getAdjustPixelSizeInput().value,t=getIndexBorder();for(let i=0;i<t;i++)setPixelSize(getPixel(i),e)}function setMinimumFromAdjustPixelSize(){getAdjustPixelSizeInput().min=2,getAdjustPixelSizeRange().querySelector(".min").innerText=2}function setMaximumFromAdjustPixelSize(){let e=getMaximumPixelSize();getAdjustPixelSizeInput().max=e,getAdjustPixelSizeRange().querySelector(".max").innerText=e}function setDefaultValueFromAdjustPixelSize(){getAdjustPixelSizeInput().value=calculateDefaultPixelLength()}function getMaximumPixelSize(){let e=getGridContainerWidth()-getSizeOfBorderPixelsFromGrid();return Math.floor(e/sizeOfGrid())}function getSizeOfBorderPixelsFromGrid(){return sizeOfGrid()+1}function getGridContainerWidth(){return getGridContainer().offsetWidth}function getAdjustPixelSizeInput(){return getElementByIdFromDocument(ADJUST_PIXEL_SIZE_INPUT_ID)}function getAdjustPixelSizeRange(){return getElementByIdFromDocument(ADJUST_PIXEL_SIZE_RANGE_ID)}function getGridContainer(){return getElementByIdFromDocument(GRID_CONTAINER_ID)}function getPixel(e){return getElementByIdFromDocument(generatePixelId(e))}const ADJUST_PIXEL_SIZE_INPUT_ID="adjust-pixel-size-input",ADJUST_PIXEL_SIZE_RANGE_ID="adjust-pixel-size-range",FILE_NAME_ID="file-name",FILE_TYPE_ID="file-type",FILL_ID="fill",GRID_CONTAINER_ID="grid-container",GRID_SIZE_ID="grid-size",GRID_ID="grid",MODAL_RESET_ID="modal-reset",PIXEL_COLOR_ID="pixel-color",PREFIX_PIXEL_ID="pixel-",GRID_SIZE_OLD_KEY="gridSizeOld",IS_TRIGGERED_BY_CHANGING_GRID_SIZE_KEY="isTriggeredByChangingGridSize",DEFAULT_PIXEL_COLOR_HEXADECIMAL="#ffffff",DEFAULT_PIXEL_COLOR_RGB="rgb(255, 255, 255)";function generateFileTypeOptions(){createSelect(FILE_TYPE_ID,["gif","jpg","png"],createInnerHtmlFromFileTypeSelect)}function submit(){makeScreenshotOfPixelPicture(),resetDownloadInputs()}function createInnerHtmlFromFileTypeSelect(e){return e.toUpperCase()}function makeScreenshotOfPixelPicture(){let e=getFileNameWithJQuery().val(),t=getFileTypeWithJQuery().val();html2canvas(getGridWithJQuery()[0]).then(i=>{i.toBlob(function(i){window.saveAs(i,getFullFileName(e,t))})})}function resetDownloadInputs(){getFileName().value="",setSelectToFirstOption(FILE_TYPE_ID)}function getFileNameWithJQuery(){return getElementByIdFromDocumentWithJQuery(FILE_NAME_ID)}function getFileTypeWithJQuery(){return getElementByIdFromDocumentWithJQuery(FILE_TYPE_ID)}function getFileName(){return getElementByIdFromDocument(FILE_NAME_ID)}function changeTool(){let e,t=getIndexBorder(),i=getFill().checked;setDisableForPixelColor(i);for(let n=0;n<t;n++){let t=generatePixelId(n);e=i?onClickValueFillAdjacentPixels(t):onClickValueColorPixel(t),getElementByIdFromDocument(t).onclick=new Function(e)}}function fillAdjacentPixels(e){let t=getElementByIdFromDocument(e).style.backgroundColor,i=Number(e.replace(PREFIX_PIXEL_ID,""));fillAdjacentPixelsIfFillPixelIsNotInFirstColumn(i,t),fillAdjacentPixelsIfFillPixelIsNotInLastColumn(i,t),fillAdjacentPixelIfFillPixelIsNotFirstRow(i,t),fillAdjacentPixelIfFillPixelIsNotLastRow(i,t)}function fillAdjacentPixelsIfFillPixelIsNotInFirstColumn(e,t){if(whichColumnIsIndex(e)!==firstColumnNumber()){changeColorFromPixel(indexTopFromPixel(e),t);let i=whichRowIsIndex(e);i!==firstRowNumber()&&changeColorFromPixel(indexTopLeftFromPixel(e),t),i!==lastRowNumber()&&changeColorFromPixel(indexTopRightFromPixel(e),t)}}function fillAdjacentPixelsIfFillPixelIsNotInLastColumn(e,t){if(whichColumnIsIndex(e)!==lastColumnNumber()){changeColorFromPixel(indexBottomFromPixel(e),t);let i=whichRowIsIndex(e);i!==firstRowNumber()&&changeColorFromPixel(indexBottomLeftFromPixel(e),t),i!==lastRowNumber()&&changeColorFromPixel(indexBottomRightFromPixel(e),t)}}function fillAdjacentPixelIfFillPixelIsNotFirstRow(e,t){whichRowIsIndex(e)!==firstRowNumber()&&changeColorFromPixel(indexLeftFromPixel(e),t)}function fillAdjacentPixelIfFillPixelIsNotLastRow(e,t){whichRowIsIndex(e)!==lastRowNumber()&&changeColorFromPixel(indexRightFromPixel(e),t)}function changeColorFromPixel(e,t){getPixel(e).style.backgroundColor=t}function setDisableForPixelColor(e){let t,i;getPixelColorWithJQuery().prop("disabled",e),e?(t="not-allowed",i=.6):(t="pointer",i=1),getPixelColor().style.cursor=t,getPixelColor().style.opacity=i}function whichColumnIsIndex(e){return Math.floor(e/sizeOfGrid())}function whichRowIsIndex(e){return e%sizeOfGrid()}function indexTopFromPixel(e){return e-sizeOfGrid()}function indexRightFromPixel(e){return e+1}function indexBottomFromPixel(e){return e+sizeOfGrid()}function indexLeftFromPixel(e){return e-1}function firstRowNumber(){return 0}function lastRowNumber(){return sizeOfGrid()-1}function firstColumnNumber(){return 0}function lastColumnNumber(){return sizeOfGrid()-1}function indexTopLeftFromPixel(e){return indexLeftFromPixel(indexTopFromPixel(e))}function indexTopRightFromPixel(e){return indexRightFromPixel(indexTopFromPixel(e))}function indexBottomRightFromPixel(e){return indexRightFromPixel(indexBottomFromPixel(e))}function indexBottomLeftFromPixel(e){return indexLeftFromPixel(indexBottomFromPixel(e))}function getFill(){return getElementByIdFromDocument(FILL_ID)}function getPixelColor(){return getElementByIdFromDocument(PIXEL_COLOR_ID)}function getPixelColorWithJQuery(){return getElementByIdFromDocumentWithJQuery(PIXEL_COLOR_ID)}function generateGrid(){$(document).ready(function(){let e,t=getGrid(),i=getIndexBorder();for(let n=0;n<i;n++)isPixelFirstRow(n)&&(e=createElementInDocument("div")),e.appendChild(createPixel(n)),isPixelLastRow(n)&&t.appendChild(e)})}function resetGrid(){resetTools(),isTriggeredByChangingGridSize()?createNewGrid():colorAllPixelsToDefaultColor()}function createNewGrid(){removeGrid(),generateGrid(),adjustPixelSizeInputAfterResetGrid(),resetKeyIsTriggeredByChangingGridSize()}function createPixel(e){let t=createElementInDocument("div"),i=generatePixelId(e);return t.setAttribute("id",i),t.setAttribute("class",createClassValueFromPixel(e)),setPixelSize(t,calculateDefaultPixelLength()),t.setAttribute("onclick",onClickValueColorPixel(i)),t}function removeGrid(){getGrid().textContent=""}function adjustPixelSizeInputAfterResetGrid(){setMaximumFromAdjustPixelSize(),setDefaultValueFromAdjustPixelSize()}function colorAllPixelsToDefaultColor(){let e=getGrid().querySelectorAll(".pixel");for(let t=0;t<e.length;t++)e[t].style.backgroundColor=DEFAULT_PIXEL_COLOR_HEXADECIMAL}function colorPixel(e){getElementByIdFromDocument(e).style.backgroundColor=getPixelColor().value}function createClassValueFromPixel(e){let t="pixel";return isPixelLastRow(e)&&(t=addClassAsString(t,"last-row")),isPixelLastColumn(e)&&(t=addClassAsString(t,"last-column")),t}function setPixelSize(e,t){let i=numberOfPixelsAsString(t);e.style.height=i,e.style.width=i}function resetTools(){getFill().checked=!1,setDisableForPixelColor(!1)}function isTriggeredByChangingGridSize(){return"true"===getItemFromLocalStorage(IS_TRIGGERED_BY_CHANGING_GRID_SIZE_KEY)}function resetKeyIsTriggeredByChangingGridSize(){setItemFromLocalStorage(IS_TRIGGERED_BY_CHANGING_GRID_SIZE_KEY,"")}function calculateDefaultPixelLength(){return Math.floor(.5*getMaximumPixelSize())}function isPixelLastRow(e){return whichRowIsIndex(e)===lastRowNumber()}function isPixelFirstRow(e){return whichRowIsIndex(e)===firstRowNumber()}function isPixelLastColumn(e){return whichColumnIsIndex(e)===lastColumnNumber()}function getGrid(){return getElementByIdFromDocument(GRID_ID)}function getGridWithJQuery(){return getElementByIdFromDocumentWithJQuery(GRID_ID)}function generateGridSizeOptions(){createSelect(GRID_SIZE_ID,[8,12,16,32],createInnerHtmlFromGridSizeSelect),$(document).ready(function(){setLocalStorageGridSizeKey()})}function onChangeGridSize(){setKeyIsTriggeredByChangingGridSizeTrue(),triggerModalReset(),setLocalStorageGridSizeKey()}function sizeOfGrid(){return Number(getGridSize().value)}function createInnerHtmlFromGridSizeSelect(e){return e+" x "+e}function setLocalStorageGridSizeKey(){getModalReset().hidden&&actualizeKeyGridSizeOld()}function setKeyIsTriggeredByChangingGridSizeTrue(){setItemFromLocalStorage(IS_TRIGGERED_BY_CHANGING_GRID_SIZE_KEY,"true")}function actualizeKeyGridSizeOld(){setItemFromLocalStorage(GRID_SIZE_OLD_KEY,getGridSize().value)}function getGridSize(){return getElementByIdFromDocument(GRID_SIZE_ID)}function triggerModalReset(){isMinimumOnePixelColored()?getModalReset().hidden=!1:resetGrid()}function triggerResetButtonFromModal(){resetGrid(),setLocalStorageGridSizeKey(),hideModalReset()}function cancelModalReset(){setGridSizeToOldValue(),hideModalReset()}function hideModalReset(){getModalReset().hidden=!0,resetKeyIsTriggeredByChangingGridSize()}function isMinimumOnePixelColored(){let e=getGrid().querySelectorAll(".pixel"),t=e.length;for(let i=0;i<t;i++){let t=e[i].style.backgroundColor;if(""!==t&&t!==DEFAULT_PIXEL_COLOR_RGB)return!0}return!1}function setGridSizeToOldValue(){getGridSize().value=getItemFromLocalStorage(GRID_SIZE_OLD_KEY)}function getModalReset(){return getElementByIdFromDocument(MODAL_RESET_ID)}function getIndexBorder(){let e=sizeOfGrid();return e*e}function generatePixelId(e){return PREFIX_PIXEL_ID+e}function jQueryId(e){return"#"+e}function numberOfPixelsAsString(e){return e+"px"}function addClassAsString(e,t){return e+" "+t}function createSelect(e,t,i){let n=getElementByIdFromDocument(e);t.forEach(e=>{let t=document.createElement("option");t.setAttribute("value",e),t.innerHTML=i(e),n.appendChild(t)})}function setSelectToFirstOption(e){getElementByIdFromDocument(e).value=getElementByIdFromDocument(e).options[0].value}function onClickValueColorPixel(e){return"colorPixel('"+e+"')"}function onClickValueFillAdjacentPixels(e){return"fillAdjacentPixels('"+e+"')"}function getElementByIdFromDocument(e){return document.getElementById(e)}function getElementByIdFromDocumentWithJQuery(e){return $(jQueryId(e))}function getFullFileName(e,t){return e+"."+t}function createElementInDocument(e){return document.createElement(e)}function getItemFromLocalStorage(e){return localStorage.getItem(e)}function setItemFromLocalStorage(e,t){localStorage.setItem(e,t)}